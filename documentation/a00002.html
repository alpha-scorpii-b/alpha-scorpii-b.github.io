<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Urho3D: Running Urho3D player application</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Urho3D
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Running Urho3D player application </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Urho3D player application in the Bin directory contains all the engine runtime functionality. However, it does not contain any inbuilt logic, and therefore must be supplied with the name of the application script file it should run:</p>
<pre class="fragment">Urho3DPlayer &lt;scriptfilename&gt; [options]
</pre><p>The scripting language supported by default is AngelScript (<a href="http://www.angelcode.com/angelscript">http://www.angelcode.com/angelscript</a>); the script files have .as extension and need to be placed under either the Bin/Data or Bin/CoreData subdirectories so that Urho3DPlayer can find them. An application script is required to have the function void Start(), which will be executed before starting the engine main loop. It is this function's responsibility to initialize the application and to hook up to any necessary <a class="el" href="a00012.html">events</a>, such as the update that happens every frame.</p>
<p>Lua language support can optionally be built in, see <a class="el" href="a00001.html#Build_Options">Build options</a>.</p>
<p>On Android and iOS the command line can not be entered, so it is instead read from the file Bin/Data/CommandLine.txt. By default the NinjaSnowWar example will be run.</p>
<h1><a class="anchor" id="Running_Commandline"></a>
Command line options</h1>
<p>The engine can be configured using the following command line options.</p>
<pre class="fragment">-x &lt;res&gt;     Horizontal resolution
-y &lt;res&gt;     Vertical resolution
-m &lt;level&gt;   Enable hardware multisampling
-v           Enable vertical sync
-t           Enable triple buffering
-w           Start in windowed mode
-s           Enable resizing when in windowed mode
-q           Enable quiet mode which does not log to standard output stream
-b &lt;length&gt;  Sound buffer length in milliseconds
-r &lt;freq&gt;    Sound mixing frequency in Hz
-p &lt;paths&gt;   Resource path(s) to use, separated by semicolons
-log &lt;level&gt; Change the log level, valid 'level' values are 'debug', 'info', 'warning', 'error'
-headless    Headless mode. No application window will be created
-prepass     Use light pre-pass rendering
-deferred    Use deferred rendering
-lqshadows   Use low-quality (1-sample) shadow filtering
-noshadows   Disable shadow rendering
-nolimit     Disable frame limiter
-nothreads   Disable worker threads
-nosound     Disable sound output
-noip        Disable sound mixing interpolation
-sm2         Force SM2.0 rendering
</pre><h1><a class="anchor" id="Running_Xcode_AngelScript_Info"></a>
Mac OS X specific - How to view/edit AngelScript within Xcode</h1>
<p>By default Mac OS X recognizes file having extension .as as 'AppleSingle Archive'. So, even after associating this file type to always open with Xcode, Xcode is still not able to view/edit the content of the file correctly. In order to view/edit the scripts, after launching the Urho3D project in Xcode, select the .as file(s) in the Project Navigator and then in the File Inspector (right panel) change the file type from 'Default - AppleSingle archive' to 'C++ Source' in the File Type drop down list. The current editor view usually does not refresh its content after this change. Selecting another file in the Project Navigator then reselecting the .as file should force the editor to reload and show the .as file correctly afterwards.</p>
<p>The drawback of the above approach is, Xcode does not remember it. The steps need to be carried out each time Xcode is relaunched.</p>
<p>To solve this permanently, we need to 'hack' the system a little bit to 'fool' Xcode to always treat .as file as one of the C++ source files. Execute the following commands in a terminal as normal user. These commands have been verified to work with Xcode 4.x on Lion and Xcode 5.x on Mountain Lion.</p>
<div class="fragment"><div class="line">$ cd /System/Library/CoreServices/CoreTypes.bundle/Contents</div>
<div class="line">$ plutil -convert xml1 Info.plist -o /tmp/Info.plist.xml</div>
<div class="line">$ sed -i.bak <span class="stringliteral">&quot;s/&lt;string&gt;cxx&lt;\/string&gt;/&lt;string&gt;cxx&lt;\/string&gt;\\`echo -e &#39;\n\r&#39;`&lt;string&gt;as&lt;\/string&gt;/g&quot;</span> /tmp/Info.plist.xml</div>
<div class="line">$ sudo cp -p Info.plist{,.ori}</div>
<div class="line">$ sudo plutil -convert binary1 /tmp/Info.plist.xml -o Info.plist</div>
<div class="line">$ find /System/Library/Frameworks -type f -name lsregister -exec {} -kill -r -domain local -domain system -domain user -domain network \;</div>
</div><!-- fragment --><p>The last command resets the launch service database and rebuilds it, so the changes should take effect immediately when Xcode restarts. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 19 2013 23:56:44 for Urho3D by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
