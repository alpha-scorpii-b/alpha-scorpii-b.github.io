---
layout: documentation
group: 1.3
---
<div id="top">{% comment %}<!-- do not remove this div, it is closed by doxygen! -->{% endcomment %}
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Building Urho3D </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="Building_Prerequisites"></a>
Building prerequisites</h2>
<p>Although all required third-party libraries are included as source code, there are system-level dependencies that must be satisfied before Urho3D can be built successfully:</p>
<ul>
<li>For Windows, the June 2010 DirectX SDK needs to be installed.</li>
</ul>
<ul>
<li>For Linux, the following development packages need to be installed: libx11-dev, libxrandr-dev, libasound2-dev on Debian-based distros; libX11-devel, libXrandr-devel, alsa-lib-devel on RedHat-based distros. Also install the package libgl1-mesa-dev (Debian) or mesa-libGL-devel (RH) if your GPU driver does not include OpenGL headers &amp; libs. Building as 32-bit on a 64-bit system requires installing also the 32-bit versions of the development libraries.</li>
</ul>
<ul>
<li>For Raspberry Pi, the following development packages need to be installed: libraspberrypi0, libraspberrypi-dev, libasound2-dev on Raspbian; raspberrypi-vc-libs, raspberrypi-vc-libs-devel, alsa-lib-devel on Pidora. The first two packages which contain the Broadcom VideoCore IV libraries and development headers should normally come preinstalled.</li>
</ul>
<ul>
<li>For Mac OS X, the Xcode developer tools package should include everything necessary.</li>
</ul>
<ul>
<li>For Android, the Android SDK and Android NDK need to be installed. Optionally, also install Eclipse ADT plugin for building and deployment via Eclipse.</li>
</ul>
<p>To run Urho3D, the minimum system requirements are:</p>
<ul>
<li>Windows: CPU with SSE instructions support, Windows XP or newer, DirectX 9.0c, GPU with Shader Model 2 support (Shader Model 3 recommended.)</li>
</ul>
<ul>
<li>Linux &amp; Mac OS X: CPU with SSE instructions support, GPU with OpenGL 2.0 support, EXT_framebuffer_object and EXT_packed_depth_stencil extensions.</li>
</ul>
<ul>
<li>Raspberry Pi: Model B revision 2.0 with at least 128 MB of 512 MB SDRAM allocated for GPU. OpenGL ES 2.0 capable GPU.</li>
</ul>
<ul>
<li>Android: OS version 2.2 or newer, OpenGL ES 2.0 capable GPU.</li>
</ul>
<ul>
<li>iOS: OpenGL ES 2.0 capable GPU.</li>
</ul>
<p>SSE requirement can be eliminated by disabling the use of SSE instruction set, see <a class="el" href="_building.html#Build_Options">Build options</a> below.</p>
<h2><a class="anchor" id="Building_Desktop"></a>
Desktop build process</h2>
<p>Urho3D uses CMake (<a href="http://www.cmake.org">http://www.cmake.org</a>) to build. The process has two steps:</p>
<ol type="1">
<li>Run CMake in the root directory with your preferred toolchain specified to generate the build files. You can use the provided batch files or shell scripts on the respective platform.<br/>
<ul>
<li>Windows: cmake_vs2008.bat, cmake_vs2010.bat, cmake_vs2012.bat or cmake_mingw.bat,<br/>
</li>
<li>Linux: cmake_gcc.sh or cmake_eclipse.sh,<br/>
</li>
<li>Mac OS X: cmake_gcc.sh or cmake_macosx.sh.<br/>
<br/>
</li>
</ul>
</li>
<li>For Visual Studio, open Urho3D.sln from the Build directory and build the configuration(s) you like.<br/>
 For Eclipse, import the Eclipse's project generated by CMake into the workspace as a general project. Note that Eclipse requires CDT plugin to build C/C++ project.<br/>
 For GCC, execute make in the Build directory (by default, cmake_gcc.sh specifies to make a Release build).<br/>
 For Xcode, open Urho3D.xcodeproj and build.</li>
</ol>
<p>If using MinGW to compile, DirectX headers may need to be acquired separately. They can be copied to the MinGW installation eg. from the following package: <a href="http://www.libsdl.org/extras/win32/common/directx-devel.tar.gz">http://www.libsdl.org/extras/win32/common/directx-devel.tar.gz</a></p>
<p>After the build is complete, the programs can be run from the Bin directory. These include the Urho3D script host application, which can run application scripts, the tools, and C++ sample applications if they have been enabled.</p>
<p>To run the Urho3D application from the Visual Studio debugger, set the Urho3D project as the startup project and enter its relative path and filename into Properties -&gt; Debugging -&gt; Command: ../../../Bin/Urho3D.exe. Additionally, entering -w into Debugging -&gt; Command Arguments is highly recommended. This enables startup in windowed mode: without it running into an exception or breakpoint will be obnoxious as the mouse cursor will likely be hidden. To actually make the Urho3D application do something useful, it must be supplied with the name of the script file it should load and run. You can try for example the following arguments: Scripts/NinjaSnowWar.as -w</p>
<p>To run from Eclipse on Linux, locate and select the Urho3D executable in the Project Explorer. From the menu, choose "Run Configurations" to create a new launch configuration for "C/C++ Application". Switch to "Arguments" tab, specify the argument required by Urho3D executable.</p>
<p>To run from Xcode on Mac OS X, edit the Product Scheme to set "Run" setting to execute "Urho3D" in the "Info" tab. In the "Arguments" tab, specify the arguments required by Urho3D executable. Ensure the check boxes are ticked on the argument entries that you want to be active.</p>
<h2><a class="anchor" id="Building_Android"></a>
Android build process</h2>
<p>First, if you are building under Windows platform, copy Bin/Data and Bin/CoreData directories to the Source/Android/assets directory (you can use the provided batch file CopyData.bat). This step is not necessary for non-Windows platform because the build script uses symbolic links for platforms that support it.</p>
<p>Set the ANDROID_NDK environment variable to point to your Android NDK. On Windows, ensure that make.exe from the Android NDK is included in the path and is executable from the command line.</p>
<p>On Windows, execute cmake_android.bat then go to the Source/Android directory and execute the following commands. On OS X or Linux, execute cmake_gcc.sh (the ANDROID_NDK environment variable distinguishes from a normal desktop build) then go to the android-Build directory (which is a GCC out-of-source build) and execute the following commands.</p>
<ul>
<li>android update project -p . -t 1 (only needed on the first time, replace '-t 1' with desired target-id)</li>
<li>make -j8 (replace '-j8' with the number of logical CPU cores of the host/build system)</li>
<li>ant debug</li>
</ul>
<p>After the commands finish successfully, the APK should have been generated to the build's "bin" subdirectory, from where it can be installed on a device or an emulator. The command "ant installd" can be used for this.</p>
<p>For a release build, use the "ant release" command instead of "ant debug" and follow the Android SDK instructions on how to sign your APK properly.</p>
<p>By default the Android package for Urho3D is com.googlecode.urho3d. For a real application you must replace this with your own package name. The Urho3D activity subclasses the SDLActivity from org.libsdl.app package, whose name (or the JNI code from SDL library) does not have to be changed.</p>
<p>Note that the native code is built by default for armeabi-v7a ABI. To make your program compatible also with old Android devices, build also an armeabi version by executing the CMake batch file again with the parameter -DANDROID_ABI=armeabi added, then execute make again in the Android directory on Windows or android-Build directory on Mac/Linux.</p>
<p>You can also build and deploy using Eclipse IDE with ADT plugin. To do that, after setting the ANDROID_NDK environment variable then run cmake_eclipse.sh. Import "Existing Android Code into Workspace" from the CMake generated Eclipse's project found in the android-Build directory. Switch Eclipse IDE to use Java Perspective. Update project properties to choose the desired Android API target and that's it. Just choose "Run" to let ADT automatically build and deploy the application to Android (virtual) device.</p>
<h2><a class="anchor" id="Building_Ios"></a>
iOS build process</h2>
<p>Run cmake_ios.sh. This generates an Xcode project named Urho3D.xcodeproj.</p>
<p>Open the Xcode project and check the properties for the Urho3D project (topmost in the Project Navigator.) In Architectures -&gt; Base SDK, choose your iOS SDK (CMake would automatically select latest iOS when generating the Xcode project). In Code Signing, enter your developer identity as necessary.</p>
<p>The Urho3D target will actually build the application bundle and copy resources from Bin/Data and Bin/CoreData directories. Edit its build scheme to choose debug or release mode.</p>
<p>To run from Xcode on iPhone/iPad Simulator, edit the Product Scheme to set "Run" destination setting to "iPhone Simulator" or "iPad Simulator", and executable to "Urho3D.app".</p>
<h2><a class="anchor" id="Building_RaspberryPi"></a>
Raspberry Pi build process</h2>
<p>For native build on Raspberry Pi itself, use the similar process for Linux Desktop build described above.</p>
<p>For cross-compiling build on another build/host machine, set the RASPI_TOOL environment variable to point to your Raspberry Pi Cross-Compiling tool where all the arm-linux-gnueabihf-* executables are located. You can setup the tool using <a href="http://crosstool-ng.org/">crosstool-NG</a> or just download one from <a href="https://github.com/raspberrypi/tools">https://github.com/raspberrypi/tools</a>. The RASPI_TOOL environment variable tells build script to generate additional build directory for cross-compiling.</p>
<p>Run cmake_gcc.sh then go to the raspi-Build directory and proceed to execute make. After the build is complete, the ARM executables can be found in Bin-CC directory.</p>
<p>You can also build, deploy, run/debug (as C/C++ Remote Application) using Eclipse IDE, if you run cmake_eclipse.sh to generate the project file. Import the CMake generated Eclipse project in the raspi-Build directory into Eclipse's workspace. Build the project as usual. Use the SCP_TO_TARGET build option to automatically deploy the ARM executables to target Raspberry Pi as part of every project build or configure Eclipse to perform a "download to target path" in the Run/Debug configuration for C/C++ Remote Application. Either way, you have to configure the Run/Debug configuration how to reach your target Raspberry Pi.</p>
<h2><a class="anchor" id="Building_Library"></a>
Library build</h2>
<p>CMake build configuration has been scripted to generate Urho3D executable as the default build target. This default target builds the Urho3D script host application (a tool to execute AngelScript and Lua script). To change it to generate an Urho3D static or shared (dynamic) library build target instead, specify the build option "-DURHO3D_BUILD_TYPE=STATIC" or "-DURHO3D_BUILD_TYPE=SHARED", respectively. When this option is set, the other build options to generate sample and tool targets are ignored. Due to the way the Urho3D project is being structured and the potential conflict of different visibility (export) attribute settings, when building the Urho3D library target then no other runtime targets can be built at the same time.</p>
<p>Refer to <a class="el" href="_using_library.html">Using Urho3D as external library</a> on how to setup your own project to use Urho3D as external library.</p>
<h2><a class="anchor" id="Building_64bit"></a>
Desktop 64bit build</h2>
<p>Currently CMake build configuration has been set to compile Urho3D as 32bit by default. To enable 64bit build, run the provided cmake_xxxx.bat or cmake_xxxx.sh by passing the option "-DENABLE_64BIT=1" explicitly. For Visual Studio on Windows platform, this option also overrides CMake to use a 64bit solution generator.</p>
<h2><a class="anchor" id="Building_Shaders"></a>
Compiling Direct3D shaders</h2>
<p>When building with the Windows 8 SDK, copy d3dcompiler_46.dll from C:/Program Files (x86)/Windows Kits/8.0/bin/x86 to Urho3D Bin directory so that the ShaderCompiler program will run correctly.</p>
<p>To make the Urho3D examples start faster on Windows &amp; Direct3D9 mode, run CompileAllShaders.bat from the Bin directory first.</p>
<p>Note that you can also force an OpenGL mode build on Windows by using the CMake option in the table below; OpenGL does not need a separate shader compilation step or utility.</p>
<h2><a class="anchor" id="Build_Options"></a>
Build options</h2>
<p>A number of build options can be defined explicitly when invoking the above cmake_xxxx batch files or shell scripts.<br/>
 </p>
<table class="doxtable">
<tr>
<th>Defines </th><th>Build Options</th></tr>
<tr>
<td>-DENABLE_64BIT=1 </td><td>to enable 64bit build </td></tr>
<tr>
<td>-DENABLE_LUA=1 </td><td>to enable additional Lua scripting support </td></tr>
<tr>
<td>-DENABLE_SAMPLES=1 </td><td>to build the C++ sample applications </td></tr>
<tr>
<td>-DENABLE_TOOLS=1 </td><td>to build the tools (only useful for Raspberry Pi build because this option is already enabled by default for other Desktop platforms) </td></tr>
<tr>
<td>-DENABLE_SSE=0 </td><td>to disable SSE instruction set </td></tr>
<tr>
<td>-DENABLE_MINIDUMPS=0 </td><td>to disable minidumps on crash (VS only) </td></tr>
<tr>
<td>-DENABLE_SAFE_LUA=0 </td><td>to disable Lua C++ wrapper safety for performance </td></tr>
<tr>
<td>-DUSE_OPENGL=1 </td><td>to use OpenGL instead of Direct3D (only useful for VS on Windows platform because this option is enabled by default for other platforms) </td></tr>
<tr>
<td>-DUSE_MKLINK=1 </td><td>to use mklink command to create symbolic links (Windows Vista and above only) </td></tr>
<tr>
<td>-DUSE_STATIC_RUNTIME=1 </td><td>to use static C/C++ runtime libraries and eliminate the need for runtime DLLs installation (VS only) </td></tr>
<tr>
<td>-DSCP_TO_TARGET=user@target:remote-location </td><td>to automatically scp executables to target system (Raspberry Pi cross-compiling build only), SSH digital key must be setup first for this to work </td></tr>
<tr>
<td>-DCMAKE_BUILD_TYPE=Release/Debug/RelWithDebInfo </td><td>to tell CMake which build configuration to be generated, default is Release (cmake_gcc.sh and cmake_eclipse.sh only) </td></tr>
<tr>
<td>-DURHO3D_BUILD_TYPE=EXE/STATIC/SHARED </td><td>to tell CMake which Urho3D target to be built, default is EXE (Urho3D script host application) </td></tr>
<tr>
<td>-DANDROID_ABI=armeabi </td><td>to build armeabi native code (Android build only), default is armeabi-v7a </td></tr>
</table>
</div></div><!-- contents -->
