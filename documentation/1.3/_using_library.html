---
layout: page
title: Documentation
group: 1.3
---
<div id="top">{% comment %}<!-- do not remove this div, it is closed by doxygen! -->{% endcomment %}
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Using Urho3D as external library </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page shows how to create a new C++ project using Urho3D library as external library. This page assumes that you have already successfully build a static or shared library in the Urho3D project (separately from your own project). In order to find the external library in the Urho3D project build tree, specify an environment variable called "URHO3D_HOME" which points to the root directory of the Urho3D project.</p>
<p>In your own project root directory, create a new CMakeLists.txt file and add the following lines:</p>
<div class="fragment"><div class="line"><span class="preprocessor"># Set project name</span></div>
<div class="line"><span class="preprocessor"></span>project (MySuperDuperGame)</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Set minimum version</span></div>
<div class="line"><span class="preprocessor"></span>cmake_minimum_required (VERSION 2.8.6)</div>
<div class="line"></div>
<div class="line">if (COMMAND cmake_policy)</div>
<div class="line">    cmake_policy (SET CMP0003 NEW)</div>
<div class="line">endif ()</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Add cmake modules search path</span></div>
<div class="line"><span class="preprocessor"></span><span class="keyword">set</span> (CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} <span class="stringliteral">&quot;${CMAKE_SOURCE_DIR}/CMake/Modules/&quot;</span>)</div>
<div class="line"></div>
<div class="line"># Include Urho3D cmake module</div>
<div class="line">include (Urho3D-CMake-magic)</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Find Urho3D library</span></div>
<div class="line"><span class="preprocessor"></span>find_package (Urho3D REQUIRED)</div>
<div class="line">include_directories (${URHO3D_INCLUDE_DIR})</div>
<div class="line"></div>
<div class="line"># Define target name</div>
<div class="line"><span class="keyword">set</span> (TARGET_NAME Main)</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Define source files</span></div>
<div class="line"><span class="preprocessor"></span>file (GLOB CPP_FILES *.cpp)</div>
<div class="line">file (GLOB H_FILES *.h)</div>
<div class="line"><span class="keyword">set</span> (SOURCE_FILES ${CPP_FILES} ${H_FILES})</div>
<div class="line"></div>
<div class="line"># Setup target with resource copying</div>
<div class="line">setup_main_executable ()</div>
</div><!-- fragment --><p>Copy the "cmake" sub-directory from Urho3D project to your own project so that CMake can find the Urho3D-specific CMake modules in your project. Instead of copying, for platform that supports symbolic link, you can also create "cmake" symbolic link in your project build tree to point to "cmake" sub-directory from Urho3D project. Alternatively, you can just modify the CMAKE_MODULE_PATH search path above to "$ENV{URHO3D_HOME}/Source/CMake/Modules/".</p>
<p>Since your CMake build script include the Urho3D-Cmake-magic module, your project also now has the cross-platform build capability.</p>
<p>When both Urho3D static and shared library are built and available in the Urho3D project build tree, the Urho3D shared library takes precedence over static library to be linked against your own project. You can modify the CMAKE_FIND_LIBRARY_SUFFIXES global variable to change this behaviour. When linking statically against Urho3D static library, you must remember to additionally define "-DURHO3D_STATIC_DEFINE" in your compiler flag, especially on MSVC. </p>
</div></div><!-- contents -->
