<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Urho3D: User interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Urho3D
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">User interface </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Urho3D implements a simple, hierarchical user interface system based on rectangular elements. The elements provided are:</p>
<ul>
<li><a class="el" href="a00073.html" title="Image UI element with optional border.">BorderImage</a>: a texture image with an optional border</li>
<li><a class="el" href="a00076.html" title="Pushbutton UI element.">Button</a>: a pushbutton</li>
<li><a class="el" href="a00079.html" title="UI element that can be toggled between unchecked and checked state.">CheckBox</a>: a button that can be toggled on/off</li>
<li><a class="el" href="a00099.html" title="Mouse cursor UI element.">Cursor</a>: a mouse cursor</li>
<li><a class="el" href="a00115.html" title="Menu UI element that displays a popup list view.">DropDownList</a>: shows a vertical list of items (optionally scrollable) as a popup</li>
<li><a class="el" href="a00161.html" title="Single-line text editor UI element.">LineEdit</a>: a single-line text editor</li>
<li><a class="el" href="a00168.html" title="Scrollable list UI element.">ListView</a>: shows a scrollable vertical list of items</li>
<li><a class="el" href="a00180.html" title="Menu UI element that optionally shows a popup.">Menu</a>: a button which can show a popup element</li>
<li><a class="el" href="a00255.html" title="Scroll bar UI element with forward and back buttons.">ScrollBar</a>: a slider with back and forward buttons</li>
<li><a class="el" href="a00256.html" title="Scrollable UI element for showing a (possibly large) child element.">ScrollView</a>: a scrollable view of child elements</li>
<li><a class="el" href="a00272.html" title="Slider bar UI element.">Slider</a>: a horizontal or vertical slider bar</li>
<li><a class="el" href="a00281.html" title="UI element which allows sub-pixel positioning and size, as well as rotation. Only other Sprites shoul...">Sprite</a>: a texture image which supports subpixel positioning, scaling and rotating.</li>
<li><a class="el" href="a00291.html" title="Text UI element.">Text</a>: static text that can be multiline</li>
<li><a class="el" href="a00304.html" title="Base class for UI elements.">UIElement</a>: container for other elements, renders nothing by itself</li>
<li><a class="el" href="a00317.html" title="UI element which renders a 3D scene.">View3D</a>: a window that renders a 3D viewport</li>
<li><a class="el" href="a00321.html" title="Window UI element that can optionally by moved or resized.">Window</a>: a movable and resizable window</li>
</ul>
<p>The root UI element can be queried from the <a class="el" href="a00302.html" title="UI subsystem. Manages the graphical user interface.">UI</a> subsystem. It is an empty canvas (<a class="el" href="a00304.html" title="Base class for UI elements.">UIElement</a>) as large as the application window, into which other elements can be added.</p>
<p>Elements are added into each other similarly as scene nodes, using the <a class="el" href="a00304.html#a76a4d4fc652ea858d46846ac2739ee98">AddChild()</a> and <a class="el" href="a00304.html#a9ccf68e4882157d8fc2489ea9b10a658">RemoveChild()</a> functions. Each UI element has also a <a class="el" href="a00304.html#a18cc52d320a11084881c887ea9db9727">user variables</a> VariantMap for storing custom data.</p>
<p>To allow the elements react to mouse input, either a mouse cursor element must be defined using <a class="el" href="a00302.html#ab7d94a2bf8f5fa20722957f0b0f8d716">SetCursor()</a> or the operating system mouse cursor must be set visible from the <a class="el" href="a00149.html" title="Input subsystem. Converts operating system window messages to input state and events.">Input</a> subsystem.</p>
<h1><a class="anchor" id="UI_Defining"></a>
Defining UI elements in XML</h1>
<p>User interface elements derive from <a class="el" href="a00257.html" title="Base class for objects with automatic serialization through attributes.">Serializable</a>, so they can be serialized to/from XML using their attributes. There are two distinct use cases for UI definition files: either defining just the UI element style and leaving the actual position and dimensions to be filled in later, or fully defining an UI element layout. The default element style definitions, used for example by the editor and the debug console, are in the file Bin/Data/UI/DefaultStyle.xml.</p>
<p>The function <a class="el" href="a00302.html#aeb17cee1b62a29b57c557bbaab230243">LoadLayout()</a> in <a class="el" href="a00302.html" title="UI subsystem. Manages the graphical user interface.">UI</a> will take an XML file and instantiate the elements defined in it. To be valid XML, there should be one root-level UI element. An optional style XML file can be specified; the idea is to first read the element's style from that file, then fill in the rest from the actual layout XML file. This way the layout file can be relatively simple, as the majority of the data is already defined.</p>
<p>Note that a style can not be easily applied recursively to the loaded elements afterward. Therefore remember to specify the style file already when loading, or alternatively <a class="el" href="a00304.html#a387ce2e545031cc9e4d4cfa82772f38b">assign a default style file</a> to the UI root element, which will then be picked up by all loaded layouts. This works because the UI subsystem searches the style file by going up the parental chain starting from target parent UI element. The search stops immediately when a style file is found or when it has reached the root element. Also note that Urho3D does not limit the number of style files being used at the same time in an application. You may have different style file set along the UI parental hierarchy, if your application needs that.</p>
<p>See the elements' C++ code for all supported attributes, and look at the editor's user interface layouts in the Bin/Data/UI directory for examples. You can also use the Editor application to create UI layouts. The serialization format is similar to scene XML serialization, with three important differences:</p>
<p>1) The element type to instantiate, and the style to use for it can be set separately. For example the following element definition</p>
<div class="fragment"><div class="line">&lt;element type=<span class="stringliteral">&quot;Button&quot;</span> style=<span class="stringliteral">&quot;CloseButton&quot;</span> /&gt;</div>
</div><!-- fragment --><p>tells to instantiate a <a class="el" href="a00076.html" title="Pushbutton UI element.">Button</a> element, and that it should use the style "CloseButton" defined in the style XML file.</p>
<p>2) Internal child elements, for example the scroll bars of a <a class="el" href="a00256.html" title="Scrollable UI element for showing a (possibly large) child element.">ScrollView</a>, need to be marked as such to avoid instantiating them as duplicates. This is done by adding the attribute internal="true" to the XML element, and is required in both layout and style XML files. Furthermore, the elements must be listed in the order they have been added as children of the parent element (if in doubt, see the element's C++ constructor code. Omitting elements in the middle is OK.) For example:</p>
<div class="fragment"><div class="line">&lt;element type=<span class="stringliteral">&quot;ScrollView&quot;</span> /&gt;</div>
<div class="line">    &lt;element type=<span class="stringliteral">&quot;ScrollBar&quot;</span> <span class="keyword">internal</span>=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">        ...customize the horizontal scroll bar attributes here...</div>
<div class="line">    &lt;/element&gt;</div>
<div class="line">    &lt;element type=<span class="stringliteral">&quot;ScrollBar&quot;</span> <span class="keyword">internal</span>=<span class="stringliteral">&quot;true&quot;</span> /&gt;</div>
<div class="line">        ...customize the vertical scroll bar attributes here...</div>
<div class="line">    &lt;/element&gt;</div>
<div class="line">&lt;/element&gt;</div>
</div><!-- fragment --><p>3) The popup element shown by <a class="el" href="a00180.html" title="Menu UI element that optionally shows a popup.">Menu</a> and <a class="el" href="a00115.html" title="Menu UI element that displays a popup list view.">DropDownList</a> is not an actual child element. In XML serialization, it is nevertheless stored as a child element, but is marked with the attribute popup="true".</p>
<h1><a class="anchor" id="UI_Layouts"></a>
UI element layout</h1>
<p>By default UI elements operate in a "free" layout mode, where child elements' positions can be specified relative to any of the parent element corners, but they are not automatically positioned or resized.</p>
<p>To create automatically adjusting layouts, the layout mode can be switched to either "horizontal" or "vertical". Now the child elements will be positioned left to right or top to bottom, based on the order in which they were added. They will be preferably resized to fit the parent element, taking into account their minimum and maximum sizes, but failing to do that, the parent element will be resized.</p>
<p>Left, top, right &amp; bottom border widths and spacing between elements can also be specified for the layout. A grid layout is not directly supported, but it can be manually created with a horizontal layout inside a vertical layout, or vice versa.</p>
<h1><a class="anchor" id="UI_Sprites"></a>
Sprites</h1>
<p>Sprites are a special kind of UI element that allow subpixel (float) positioning and scaling, as well as rotation, while the other elements use integer positioning for pixel-perfect display. Sprites can be used to implement rotating HUD elements such as minimaps or speedometer needles.</p>
<p>Due to the free transformability, sprites can not be reliably queried with <a class="el" href="a00302.html#ad6e052c43b7dc743ae7e83df21c75dff">GetElementAt()</a>. Also, only other sprites should be parented to sprites, as the other elements do not support scaling and rotation. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 5 2013 22:56:34 for Urho3D by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
